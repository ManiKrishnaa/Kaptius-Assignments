<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Electro Store</title>
    <link rel="stylesheet" href="dashboard.css">
</head>
<body>
    <header>
        <nav>
            <div class="container">
                <div class="logo">
                    <h1>Electro Store</h1>
                </div>
                <ul class="nav-links">
                    <li><a href="./index.html">Home</a></li>
                    <li><a href="#">Products</a></li>
                    <li><a href="#">Contact</a></li>
                    <li><a href="./cart.html">Cart</a></li>
                    <li><a href="#" id="logout">Logout</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <main>
        <section class="products">
            <div class="container">
                <h2>Products</h2>
                <div class="product-grid">
                    <div class="product-card" data-product-id="1">
                        <img src="https://www.easternlogica.com/wp-content/uploads/2023/04/I-PHONE-14-PRO-Space-Black-01.jpg" alt="Product 1">
                        <h3>Apple Iphone 14 Pro</h3>
                        <p>₹1,24,250</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="2">
                        <img src="https://www.aptronixindia.com/media/catalog/product/m/b/mbp14-spacegray-select-202110_1.jpeg" alt="Product 2">
                        <h3>Apple laptop 16-inch MacBook Pro M1 Chip </h3>
                        <p>₹2,39,900.00</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="3">
                        <img src="https://cdn1.smartprix.com/rx-iubNAvq2Y-w420-h420/apple-airpods-pro-3r.jpg" alt="Product 3">
                        <h3>Apple AirPods Pro (3rd Generation)</h3>
                        <p>₹9,034</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="4">
                        <img src="https://store.storeimages.cdn-apple.com/4668/as-images.apple.com/is/MT5J3ref_VW_34FR+watch-49-titanium-ultra2_VW_34FR+watch-face-49-alpine-ultra2_VW_34FR_GEO_IN?wid=750&hei=712&trim=1%2C0&fmt=p-jpg&qlt=95&.v=1694507270905" alt="Product 4">
                        <h3>Apple Watch Ultra 2</h3>
                        <p>₹90,000</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="5">
                        <img src="https://images-cdn.ubuy.co.in/65950b33d7917144010b6e78-2-4g-slim-wireless-mouse-with-nano.jpg" alt="Product 5">
                        <h3>Wireless Mouse with Nano Receiver, Less Noise</h3>
                        <p>₹2,230</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="6">
                        <img src="https://gamesncomps.com/wp-content/uploads/2024/04/5-2024-04-24T185802.213-1.jpg" alt="Product 6">
                        <h3>Logitech Signature Slim K950 Wireless Keyboard</h3>
                        <p>₹3,000</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="7">
                        <img src="https://m.media-amazon.com/images/I/41fQ5NSkEWL._AC_UF1000,1000_QL80_.jpg" alt="Product 7">
                        <h3>TP-link N300 WiFi Wireless Router TL-WR845N</h3>
                        <p>₹1,500</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="8">
                        <img src="https://images.samsung.com/is/image/samsung/p6pim/nz/qa85qn900asxnz/gallery/nz-qled-tv-qa85qn900asxnz-front-silver-457360748?$650_519_PNG$" alt="Product 8">
                        <h3>2.16 m Samsung QN900C Neo QLED 8K Smart TV</h3>
                        <p>₹1,00,000</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="9">
                        <img src="https://images-cdn.ubuy.co.in/650ff83f344c9a1812550889-sony-playstation-5-digital-console-with.jpg" alt="Product 9">
                        <h3>Sony PlayStation 5 Digital Console + Accessories Kit</h3>
                        <p>₹74,540</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                    <div class="product-card" data-product-id="10">
                        <img src="https://rukminim2.flixcart.com/image/850/1000/l4ssfww0/selector-box/4/m/b/chromecast-with-tv-4k-google-original-imagfmbzx3tntuq3.jpeg?q=90&crop=false" alt="Product 10">
                        <h3>Google Chromecast with TV (4K) Media Streaming Device</h3>
                        <p>₹5,500</p>
                        <a href="#" class="add-to-cart">Add-to-cart</a>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <div class="container">
            <p>&copy; 2024 Electro Store. All rights reserved.</p>
        </div>
    </footer>
</body>
<script>
    function handleLogout() {
        localStorage.removeItem('loggedInUser');
        window.location.href = './index.html';
    }
    document.getElementById('logout').addEventListener('click', handleLogout);

    function addToCart(productName, productPrice) {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let user = JSON.parse(localStorage.getItem('loggedInUser'));


        cart.push({ email : user.email,name: productName, price: productPrice});
        localStorage.setItem('cart', JSON.stringify(cart));
        console.log(cart);
        alert("Item added to cart!");
   }


    document.querySelectorAll('.add-to-cart').forEach(button => {
        button.addEventListener('click', (event) => {
            event.preventDefault();
            const productCard = event.target.closest('.product-card');
            const productName = productCard.querySelector('h3').innerText;
            let productPrice = productCard.querySelector('p').innerText;
            productPrice = productPrice.replace(/[^\d]/g, '');
            console.log(productPrice);
            addToCart(productName, productPrice);
        });
    });
</script>
</html>
